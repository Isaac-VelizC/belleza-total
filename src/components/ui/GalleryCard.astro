---
import type { GalleryInterface } from "./../../interface/gallery";
import Image from "astro/components/Image.astro";

export type CardProps = {
  itemCard: GalleryInterface;
};

const { itemCard } = Astro.props;
---

<div
  class="gallery-item group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-500 cursor-pointer"
  data-category={itemCard.category}
  data-src={itemCard.url}
  style={`animation-delay: ${itemCard.id * 0.1}s`}
>
  <!-- Imagen principal -->
  <div class="aspect-square overflow-hidden">
    <Image
      src={itemCard.url}
      width={500}
      height={500}
      alt={`Transformación de belleza ${itemCard.id} - Salón profesional`}
      class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"
      loading="lazy"
    />
  </div>

  <!-- Overlay con efectos -->
  <div
    class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"
  >
  </div>

  <!-- Contenido del overlay -->
  <div
    class="absolute inset-0 flex flex-col justify-end p-6 transform translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500"
  >
    <div class="text-white">
      <h3 class="font-bold text-lg mb-2">
        {itemCard.title}
      </h3>
      <p class="text-sm text-white/80 mb-4">
        {itemCard.description}
      </p>

      <!-- Botones de acción -->
      <div class="flex gap-2">
        <button
          class="gallery-zoom flex-1 bg-white/20 backdrop-blur-sm text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-white/30 transition-colors duration-300 flex items-center justify-center gap-2"
        >
          <svg
            class="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"
            ></path>
          </svg>
          Ver
        </button>
      </div>
    </div>
  </div>

  <!-- Badge de categoría -->
  <div
    class="absolute top-4 left-4 bg-white/95 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-semibold text-[#333333] opacity-0 group-hover:opacity-100 transition-opacity duration-500"
  >
    {itemCard.category}
  </div>

  <!-- Efecto de brillo -->
  <div
    class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transform -skew-x-12 scale-x-0 group-hover:scale-x-100 transition-transform duration-700 origin-left"
  >
  </div>
</div>
